{"version":3,"file":"index.d.ts","names":["z","BaseLanguageModelInterface","InferInteropZodOutput","InputValues","Comparator","Operator","StructuredQuery","Runnable","RunnableConfig","QueryTransformer","TraverseType","DEFAULT_EXAMPLES","DEFAULT_PREFIX","DEFAULT_SCHEMA","DEFAULT_SUFFIX","EXAMPLE_PROMPT","AsymmetricStructuredOutputParser","AttributeInfo","queryInputSchema","ZodString","ZodOptional","ZodTypeAny","ZodObject","StructuredQueryOutputParser","query","filter","Promise","formatAttributeInfo","QueryConstructorRunnableOptions","QueryConstructorChainOptions","loadQueryConstructorRunnable","Record"],"sources":["../../../src/chains/query_constructor/index.d.ts"],"sourcesContent":["import { z } from \"zod/v3\";\nimport type { BaseLanguageModelInterface } from \"@langchain/core/language_models/base\";\nimport { InferInteropZodOutput, InputValues } from \"@langchain/core/utils/types\";\nimport { Comparator, Operator, StructuredQuery } from \"@langchain/core/structured_query\";\nimport { Runnable, RunnableConfig } from \"@langchain/core/runnables\";\nimport { QueryTransformer, TraverseType } from \"./parser.js\";\nimport { DEFAULT_EXAMPLES, DEFAULT_PREFIX, DEFAULT_SCHEMA, DEFAULT_SUFFIX, EXAMPLE_PROMPT } from \"./prompt.js\";\nimport { AsymmetricStructuredOutputParser } from \"../../output_parsers/structured.js\";\n/**\n * A simple data structure that holds information about an attribute. It\n * is typically used to provide metadata about attributes in other classes\n * or data structures within the LangChain framework.\n */\nexport declare class AttributeInfo {\n    name: string;\n    type: string;\n    description: string;\n    constructor(name: string, type: string, description: string);\n}\nexport { QueryTransformer, type TraverseType };\nexport { DEFAULT_EXAMPLES, DEFAULT_PREFIX, DEFAULT_SCHEMA, DEFAULT_SUFFIX, EXAMPLE_PROMPT, };\ndeclare const queryInputSchema: z.ZodObject<{\n    query: z.ZodString;\n    filter: z.ZodOptional<z.ZodString>;\n}, \"strip\", z.ZodTypeAny, {\n    query: string;\n    filter?: string | undefined;\n}, {\n    query: string;\n    filter?: string | undefined;\n}>;\n/**\n * A class that extends AsymmetricStructuredOutputParser to parse\n * structured query output.\n */\nexport declare class StructuredQueryOutputParser extends AsymmetricStructuredOutputParser<typeof queryInputSchema, StructuredQuery> {\n    lc_namespace: string[];\n    queryTransformer: QueryTransformer;\n    constructor(fields: {\n        allowedComparators: Comparator[];\n        allowedOperators: Operator[];\n    });\n    /**\n     * Processes the output of a structured query.\n     * @param query The query string.\n     * @param filter The filter condition.\n     * @returns A Promise that resolves to a StructuredQuery instance.\n     */\n    outputProcessor({ query, filter }: InferInteropZodOutput<typeof queryInputSchema>): Promise<StructuredQuery>;\n    /**\n     * Creates a new StructuredQueryOutputParser instance from the provided\n     * components.\n     * @param allowedComparators An array of allowed Comparator instances.\n     * @param allowedOperators An array of allowed Operator instances.\n     * @returns A new StructuredQueryOutputParser instance.\n     */\n    static fromComponents(allowedComparators?: Comparator[], allowedOperators?: Operator[]): StructuredQueryOutputParser;\n}\nexport declare function formatAttributeInfo(info: AttributeInfo[]): string;\n/**\n * A type that represents options for the query constructor chain.\n */\nexport type QueryConstructorRunnableOptions = {\n    llm: BaseLanguageModelInterface;\n    documentContents: string;\n    attributeInfo: AttributeInfo[];\n    examples?: InputValues[];\n    allowedComparators?: Comparator[];\n    allowedOperators?: Operator[];\n};\n/** @deprecated */\nexport type QueryConstructorChainOptions = QueryConstructorRunnableOptions;\nexport declare function loadQueryConstructorRunnable(opts: QueryConstructorRunnableOptions): Runnable<any, StructuredQuery, RunnableConfig<Record<string, any>>>;\n//# sourceMappingURL=index.d.ts.map"],"mappings":";;;;;;;;;;;;;AAaA;AAO6F;;AAGjEmB,cAVPF,aAAAA,CAUOE;EAAdC,IAAAA,EAAAA,MAAAA;EACAC,IAAAA,EAAAA,MAAAA;EAHoBC,WAAAA,EAAAA,MAAAA;EAAS,WAAA,CAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAA,MAAA,EAAA,WAAA,EAAA,MAAA;AAc3C;cAdcJ,gBAgBQT,EAhBUT,CAAAA,CAAEsB,SAgBZb,CAAAA;EAEML,KAAAA,EAjBjBJ,CAAAA,CAAEmB,SAiBef;EACFC,MAAAA,EAjBdL,CAAAA,CAAEoB,WAiBYf,CAjBAL,CAAAA,CAAEmB,SAiBFd,CAAAA;CAQJmB,EAAAA,OAAAA,EAxBVxB,CAAAA,CAAEqB,UAwBQG,EAAAA;EAAOC,KAAAA,EAAAA,MAAAA;EAAuCP,MAAAA,CAAAA,EAAAA,MAAAA,GAAAA,SAAAA;CAA7BhB,EAAAA;EAAyDI,KAAAA,EAAAA,MAAAA;EAARoB,MAAAA,CAAAA,EAAAA,MAAAA,GAAAA,SAAAA;CAQzCtB,CAAAA;;;;AArB0C;AAuBjEuB,cAvBHJ,2BAAAA,SAAoCP,gCAuBM,CAAA,OAvBkCE,gBAuBlC,EAvBoDZ,eAuBpD,CAAA,CAAA;EAInDsB,YAAAA,EAAAA,MAAAA,EAAAA;EACH3B,gBAAAA,EA1BaQ,gBA0BbR;EAEUgB,WAAAA,CAAAA,MAAAA,EAAAA;IACJd,kBAAAA,EA3BaC,UA2BbD,EAAAA;IACUC,gBAAAA,EA3BCC,QA2BDD,EAAAA;EACFC,CAAAA;EAAQ;AAG/B;AACA;;;;EAA4HG,eAAAA,CAAAA;IAAAA,KAAAA;IAAAA;EAAAA,CAAAA,EAxBrFN,qBAwBqFM,CAAAA,OAxBxDU,gBAwBwDV,CAAAA,CAAAA,EAxBpCkB,OAwBoClB,CAxB5BF,eAwB4BE,CAAAA;EAA/BD;AAAQ;;;;;;6CAhBtDH,iCAAiCC,aAAakB;;iBAErEI,mBAAAA,OAA0BV;;;;KAItCW,+BAAAA;OACH3B;;iBAEUgB;aACJd;uBACUC;qBACFC;;;KAGXwB,4BAAAA,GAA+BD;iBACnBE,4BAAAA,OAAmCF,kCAAkCrB,cAAcD,iBAAiBE,eAAeuB"}