{"version":3,"file":"combine_docs_chain.d.ts","names":["Document","ChainValues","CallbackManagerForChainRun","BasePromptTemplate","SerializedStuffDocumentsChain","SerializedMapReduceDocumentsChain","SerializedRefineDocumentsChain","BaseChain","ChainInputs","LLMChain","StuffDocumentsChainInput","StuffDocumentsChain","Promise","MapReduceDocumentsChainInput","MapReduceDocumentsChain","RefineDocumentsChainInput","RefineDocumentsChain","_langchain_core_prompt_values0","BasePromptValueInterface","Record"],"sources":["../../src/chains/combine_docs_chain.d.ts"],"sourcesContent":["import { Document } from \"@langchain/core/documents\";\nimport { ChainValues } from \"@langchain/core/utils/types\";\nimport { CallbackManagerForChainRun } from \"@langchain/core/callbacks/manager\";\nimport { BasePromptTemplate } from \"@langchain/core/prompts\";\nimport type { SerializedStuffDocumentsChain, SerializedMapReduceDocumentsChain, SerializedRefineDocumentsChain } from \"./serde.js\";\nimport { BaseChain, ChainInputs } from \"./base.js\";\nimport { LLMChain } from \"./llm_chain.js\";\n/**\n * Interface for the input properties of the StuffDocumentsChain class.\n */\nexport interface StuffDocumentsChainInput extends ChainInputs {\n    /** LLM Wrapper to use after formatting documents */\n    llmChain: LLMChain;\n    inputKey?: string;\n    /** Variable name in the LLM chain to put the documents in */\n    documentVariableName?: string;\n}\n/**\n * Chain that combines documents by stuffing into context.\n * @augments BaseChain\n * @augments StuffDocumentsChainInput\n */\nexport declare class StuffDocumentsChain extends BaseChain implements StuffDocumentsChainInput {\n    static lc_name(): string;\n    llmChain: LLMChain;\n    inputKey: string;\n    documentVariableName: string;\n    get inputKeys(): string[];\n    get outputKeys(): string[];\n    constructor(fields: StuffDocumentsChainInput);\n    /** @ignore */\n    _prepInputs(values: ChainValues): ChainValues;\n    /** @ignore */\n    _call(values: ChainValues, runManager?: CallbackManagerForChainRun): Promise<ChainValues>;\n    _chainType(): \"stuff_documents_chain\";\n    static deserialize(data: SerializedStuffDocumentsChain): Promise<StuffDocumentsChain>;\n    serialize(): SerializedStuffDocumentsChain;\n}\n/**\n * Interface for the input properties of the MapReduceDocumentsChain\n * class.\n */\nexport interface MapReduceDocumentsChainInput extends StuffDocumentsChainInput {\n    /** The maximum number of tokens before requiring to do the reduction */\n    maxTokens?: number;\n    /** The maximum number of iterations to run through the map */\n    maxIterations?: number;\n    /** Ensures that the map step is taken regardless of max tokens */\n    ensureMapStep?: boolean;\n    /** Chain to use to combine results of applying llm_chain to documents. */\n    combineDocumentChain: StuffDocumentsChain;\n    /** Return the results of the map steps in the output. */\n    returnIntermediateSteps?: boolean;\n}\n/**\n * Combine documents by mapping a chain over them, then combining results.\n * @augments BaseChain\n * @augments StuffDocumentsChainInput\n */\nexport declare class MapReduceDocumentsChain extends BaseChain implements MapReduceDocumentsChainInput {\n    static lc_name(): string;\n    llmChain: LLMChain;\n    inputKey: string;\n    documentVariableName: string;\n    returnIntermediateSteps: boolean;\n    get inputKeys(): string[];\n    get outputKeys(): string[];\n    maxTokens: number;\n    maxIterations: number;\n    ensureMapStep: boolean;\n    combineDocumentChain: StuffDocumentsChain;\n    constructor(fields: MapReduceDocumentsChainInput);\n    /** @ignore */\n    _call(values: ChainValues, runManager?: CallbackManagerForChainRun): Promise<ChainValues>;\n    _chainType(): \"map_reduce_documents_chain\";\n    static deserialize(data: SerializedMapReduceDocumentsChain): Promise<MapReduceDocumentsChain>;\n    serialize(): SerializedMapReduceDocumentsChain;\n}\n/**\n * Interface for the input properties of the RefineDocumentsChain class.\n */\nexport interface RefineDocumentsChainInput extends StuffDocumentsChainInput {\n    refineLLMChain: LLMChain;\n    documentPrompt?: BasePromptTemplate;\n    initialResponseName?: string;\n    documentVariableName?: string;\n    outputKey?: string;\n}\n/**\n * Combine documents by doing a first pass and then refining on more documents.\n * @augments BaseChain\n * @augments RefineDocumentsChainInput\n */\nexport declare class RefineDocumentsChain extends BaseChain implements RefineDocumentsChainInput {\n    static lc_name(): string;\n    llmChain: LLMChain;\n    inputKey: string;\n    outputKey: string;\n    documentVariableName: string;\n    initialResponseName: string;\n    refineLLMChain: LLMChain;\n    get defaultDocumentPrompt(): BasePromptTemplate;\n    documentPrompt: BasePromptTemplate<any, import(\"@langchain/core/prompt_values\").BasePromptValueInterface, any>;\n    get inputKeys(): string[];\n    get outputKeys(): string[];\n    constructor(fields: RefineDocumentsChainInput);\n    /** @ignore */\n    _constructInitialInputs(doc: Document, rest: Record<string, unknown>): Promise<{\n        [x: string]: unknown;\n    }>;\n    /** @ignore */\n    _constructRefineInputs(doc: Document, res: string): Promise<{\n        [x: string]: unknown;\n    }>;\n    /** @ignore */\n    _call(values: ChainValues, runManager?: CallbackManagerForChainRun): Promise<ChainValues>;\n    _chainType(): \"refine_documents_chain\";\n    static deserialize(data: SerializedRefineDocumentsChain): Promise<RefineDocumentsChain>;\n    serialize(): SerializedRefineDocumentsChain;\n}\n//# sourceMappingURL=combine_docs_chain.d.ts.map"],"mappings":";;;;;;;;;;;;;AAUiBU,UAAAA,wBAAAA,SAAiCF,WAAAA,CAAAA;EAY7BG;EAEPF,QAAAA,EAZAA,QAYAA;EAKUC,QAAAA,CAAAA,EAAAA,MAAAA;EAEAT;EAAcA,oBAAAA,CAAAA,EAAAA,MAAAA;;;;;;;AAIuBW,cAbxCD,mBAAAA,SAA4BJ,SAAAA,YAAqBG,wBAaTE,CAAAA;EAC5CR,OAAAA,OAAAA,CAAAA,CAAAA,EAAAA,MAAAA;EAdgCG,QAAAA,EAEnCE,QAFmCF;EAAqBG,QAAAA,EAAAA,MAAAA;EAAwB,oBAAA,EAAA,MAAA;EAoB7EG,IAAAA,SAAAA,CAAAA,CAAAA,EAAAA,MAAAA,EAAAA;EAiBIC,IAAAA,UAAAA,CAAAA,CAAAA,EAAAA,MAAAA,EAAuB;EAE9BL,WAAAA,CAAAA,MAAAA,EAhCUC,wBAgCVD;EASYE;EACFE,WAAAA,CAAAA,MAAAA,EAxCAZ,WAwCAY,CAAAA,EAxCcZ,WAwCdY;EAENZ;EAA0BC,KAAAA,CAAAA,MAAAA,EAxC1BD,WAwC0BC,EAAAA,UAAAA,CAAAA,EAxCAA,0BAwCAA,CAAAA,EAxC6BU,OAwC7BV,CAxCqCD,WAwCrCC,CAAAA;EAAqCD,UAAAA,CAAAA,CAAAA,EAAAA,uBAAAA;EAARW,OAAAA,WAAAA,CAAAA,IAAAA,EAtC5CR,6BAsC4CQ,CAAAA,EAtCZA,OAsCYA,CAtCJD,mBAsCIC,CAAAA;EAE5CP,SAAAA,CAAAA,CAAAA,EAvCZD,6BAuCYC;;;;;;AAhByE,UAjBrFQ,4BAAAA,SAAqCH,wBAiBgD,CAAA;EAsBrFK;EACGN,SAAAA,CAAAA,EAAAA,MAAAA;EACCN;EAF8BO,aAAAA,CAAAA,EAAAA,MAAAA;EAAwB;EAYtDM,aAAAA,CAAAA,EAAAA,OAAoB;EAE3BP;EAKMA,oBAAAA,EAlDME,mBAkDNF;EACaN;EAAkBc,uBAAAA,CAAAA,EAAAA,OACiCC;;;;;;;AAS5BN,cApDnCE,uBAAAA,SAAgCP,SAAAA,YAAqBM,4BAoDlBD,CAAAA;EAItCX,OAAAA,OAAAA,CAAAA,CAAAA,EAAAA,MAAAA;EAA0BC,QAAAA,EAtD9BO,QAsD8BP;EAAqCD,QAAAA,EAAAA,MAAAA;EAARW,oBAAAA,EAAAA,MAAAA;EAE5CN,uBAAAA,EAAAA,OAAAA;EAAyCU,IAAAA,SAAAA,CAAAA,CAAAA,EAAAA,MAAAA,EAAAA;EAARJ,IAAAA,UAAAA,CAAAA,CAAAA,EAAAA,MAAAA,EAAAA;EAC7CN,SAAAA,EAAAA,MAAAA;EAzBiCC,aAAAA,EAAAA,MAAAA;EAAqBQ,aAAAA,EAAAA,OAAAA;EAAyB,oBAAA,EAvBtEJ,mBAuBsE;sBAtBxEE;;gBAENZ,0BAA0BC,6BAA6BU,QAAQX;;2BAEpDI,oCAAoCO,QAAQE;eACxDT;;;;;UAKAU,yBAAAA,SAAkCL;kBAC/BD;mBACCN;;;;;;;;;;cAUAa,oBAAAA,SAA6BT,SAAAA,YAAqBQ;;YAEzDN;;;;;kBAKMA;+BACaN;kBACbA,wBAD+Bc,8BAAAA,CACiCC,wBAAAA;;;sBAG5DH;;+BAESf,gBAAgBmB,0BAA0BP;;;;8BAI3CZ,wBAAwBY;;;;gBAItCX,0BAA0BC,6BAA6BU,QAAQX;;2BAEpDK,iCAAiCM,QAAQI;eACrDV"}