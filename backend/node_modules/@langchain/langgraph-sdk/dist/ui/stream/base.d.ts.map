{"version":3,"file":"base.d.ts","names":["Client","ThreadState","Interrupt","StreamMode","StreamEvent","Message","DefaultToolCall","BagTemplate","Sequence","GetUpdateType","GetConfigurableType","GetInterruptType","MessageMetadata","SubmitOptions","BaseStream","Record","StateType","ToolCall","Bag","Promise"],"sources":["../../../src/ui/stream/base.d.ts"],"sourcesContent":["/**\n * Base stream types shared by all stream interfaces.\n *\n * This module contains the foundational types that are common to all streaming\n * scenarios: CompiledStateGraph, ReactAgent (createAgent), and DeepAgent (createDeepAgent).\n *\n * @module\n */\nimport type { Client } from \"../../client.js\";\nimport type { ThreadState, Interrupt } from \"../../schema.js\";\nimport type { StreamMode } from \"../../types.stream.js\";\nimport type { StreamEvent } from \"../../types.js\";\nimport type { Message, DefaultToolCall } from \"../../types.messages.js\";\nimport type { BagTemplate } from \"../../types.template.js\";\nimport type { Sequence } from \"../branching.js\";\nimport type { GetUpdateType, GetConfigurableType, GetInterruptType, MessageMetadata, SubmitOptions } from \"../types.js\";\n/**\n * Base stream interface shared by all stream types.\n *\n * Contains core properties for state management, messaging, and stream control\n * that are common to CompiledStateGraph, ReactAgent, and DeepAgent streams.\n *\n * This interface provides the foundation that all stream types build upon:\n * - State management (`values`, `isLoading`, `error`)\n * - Message handling (`messages`)\n * - Interrupt handling (`interrupt`)\n * - Stream lifecycle (`submit`, `stop`)\n * - Branching and history (`branch`, `history`)\n *\n * @template StateType - The state type of the stream\n * @template ToolCall - The tool call type for messages (inferred from agent tools)\n * @template Bag - Type configuration bag for interrupts, configurable, updates, etc.\n *\n * @example\n * ```typescript\n * // BaseStream is not used directly - use one of the specialized interfaces:\n * // - UseGraphStream for CompiledStateGraph\n * // - UseAgentStream for ReactAgent (createAgent)\n * // - UseDeepAgentStream for DeepAgent (createDeepAgent)\n * ```\n */\nexport interface BaseStream<StateType extends Record<string, unknown> = Record<string, unknown>, ToolCall = DefaultToolCall, Bag extends BagTemplate = BagTemplate> {\n    /**\n     * The current state values of the stream.\n     * Updated as streaming events are received.\n     */\n    values: StateType;\n    /**\n     * Last seen error from the stream, if any.\n     * Reset to `undefined` when a new stream starts.\n     */\n    error: unknown;\n    /**\n     * Whether the stream is currently running.\n     * `true` while streaming, `false` when idle or completed.\n     */\n    isLoading: boolean;\n    /**\n     * Whether the thread is currently being loaded.\n     * `true` during initial thread data fetch.\n     */\n    isThreadLoading: boolean;\n    /**\n     * Messages accumulated during the stream.\n     * Includes both human and AI messages.\n     * AI messages include typed tool calls based on the agent's tools.\n     */\n    messages: Message<ToolCall>[];\n    /**\n     * Current interrupt, if the stream is interrupted.\n     * Used for human-in-the-loop workflows.\n     */\n    interrupt: Interrupt<GetInterruptType<Bag>> | undefined;\n    /**\n     * Stops the currently running stream.\n     * @returns A promise that resolves when the stream is stopped.\n     */\n    stop: () => Promise<void>;\n    /**\n     * Create and stream a run to the thread.\n     *\n     * @param values - The input values to send, or null/undefined for empty input\n     * @param options - Optional configuration for the submission\n     * @returns A promise that resolves when the stream completes\n     */\n    submit: (values: GetUpdateType<Bag, StateType> | null | undefined, options?: SubmitOptions<StateType, GetConfigurableType<Bag>>) => Promise<void>;\n    /**\n     * The current branch of the thread.\n     * Used for navigating between different conversation branches.\n     */\n    branch: string;\n    /**\n     * Set the branch of the thread.\n     * @param branch - The branch identifier to switch to\n     */\n    setBranch: (branch: string) => void;\n    /**\n     * Flattened history of thread states of a thread.\n     * Contains all states in the current branch's history.\n     */\n    history: ThreadState<StateType>[];\n    /**\n     * Tree of all branches for the thread.\n     * @experimental This API is experimental and subject to change.\n     */\n    experimental_branchTree: Sequence<StateType>;\n    /**\n     * Get the metadata for a message, such as first thread state the message\n     * was seen in and branch information.\n     *\n     * @param message - The message to get the metadata for\n     * @param index - The index of the message in the thread\n     * @returns The metadata for the message, or undefined if not found\n     */\n    getMessagesMetadata: (message: Message<ToolCall>, index?: number) => MessageMetadata<StateType> | undefined;\n    /**\n     * LangGraph SDK client used to send requests and receive responses.\n     */\n    client: Client;\n    /**\n     * The ID of the assistant to use.\n     */\n    assistantId: string;\n    /**\n     * Join an active stream that's already running.\n     *\n     * @param runId - The ID of the run to join\n     * @param lastEventId - Optional last event ID for resuming from a specific point\n     * @param options - Optional configuration for the stream\n     */\n    joinStream: (runId: string, lastEventId?: string, options?: {\n        streamMode?: StreamMode | StreamMode[];\n        filter?: (event: {\n            id?: string;\n            event: StreamEvent;\n            data: unknown;\n        }) => boolean;\n    }) => Promise<void>;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIqBG,UA1FJW,UA0FIX,CAAAA,kBA1FyBY,MA0FzBZ,CAAAA,MAAAA,EAAAA,OAAAA,CAAAA,GA1FmDY,MA0FnDZ,CAAAA,MAAAA,EAAAA,OAAAA,CAAAA,EAAAA,WA1FuFG,eA0FvFH,EAAAA,YA1FoHI,WA0FpHJ,GA1FkII,WA0FlIJ,CAAAA,CAAAA;;;;;UArFTa;;;;;;;;;;;;;;;;;;;;;YAqBEX,QAAQY;;;;;aAKPf,UAAUS,iBAAiBO;;;;;cAK1BC;;;;;;;;mBAQKV,cAAcS,KAAKF,yCAAyCH,cAAcG,WAAWN,oBAAoBQ,UAAUC;;;;;;;;;;;;;;;WAe3HlB,YAAYe;;;;;2BAKIR,SAASQ;;;;;;;;;iCASHX,QAAQY,8BAA8BL,gBAAgBI;;;;UAI7EhB;;;;;;;;;;;;;iBAaSG,aAAaA;;;aAGfC;;;QAGTe"}