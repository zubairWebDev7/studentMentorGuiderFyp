{"version":3,"file":"entity_memory.d.cts","names":["BaseLanguageModelInterface","PromptTemplate","InputValues","MemoryVariables","OutputValues","BaseEntityStore","BaseChatMemory","BaseChatMemoryInput","EntityMemoryInput","EntityMemory","Promise"],"sources":["../../src/memory/entity_memory.d.ts"],"sourcesContent":["import type { BaseLanguageModelInterface } from \"@langchain/core/language_models/base\";\nimport { PromptTemplate } from \"@langchain/core/prompts\";\nimport { InputValues, MemoryVariables, OutputValues } from \"@langchain/core/memory\";\nimport { BaseEntityStore } from \"./stores/entity/base.js\";\nimport { BaseChatMemory, BaseChatMemoryInput } from \"./chat_memory.js\";\n/**\n * Interface for the input parameters required by the EntityMemory class.\n */\nexport interface EntityMemoryInput extends BaseChatMemoryInput {\n    llm: BaseLanguageModelInterface;\n    humanPrefix?: string;\n    aiPrefix?: string;\n    entityExtractionPrompt?: PromptTemplate;\n    entitySummarizationPrompt?: PromptTemplate;\n    entityCache?: string[];\n    k?: number;\n    chatHistoryKey?: string;\n    entitiesKey?: string;\n    entityStore?: BaseEntityStore;\n}\n/**\n * Class for managing entity extraction and summarization to memory in\n * chatbot applications. Extends the BaseChatMemory class and implements\n * the EntityMemoryInput interface.\n * @example\n * ```typescript\n * const memory = new EntityMemory({\n *   llm: new ChatOpenAI({ model: \"gpt-4o-mini\", temperature: 0 }),\n *   chatHistoryKey: \"history\",\n *   entitiesKey: \"entities\",\n * });\n * const model = new ChatOpenAI({ model: \"gpt-4o-mini\", temperature: 0.9 });\n * const chain = new LLMChain({\n *   llm: model,\n *   prompt: ENTITY_MEMORY_CONVERSATION_TEMPLATE,\n *   memory,\n * });\n *\n * const res1 = await chain.call({ input: \"Hi! I'm Jim.\" });\n * console.log({\n *   res1,\n *   memory: await memory.loadMemoryVariables({ input: \"Who is Jim?\" }),\n * });\n *\n * const res2 = await chain.call({\n *   input: \"I work in construction. What about you?\",\n * });\n * console.log({\n *   res2,\n *   memory: await memory.loadMemoryVariables({ input: \"Who is Jim?\" }),\n * });\n *\n * ```\n */\nexport declare class EntityMemory extends BaseChatMemory implements EntityMemoryInput {\n    private entityExtractionChain;\n    private entitySummarizationChain;\n    entityStore: BaseEntityStore;\n    entityCache: string[];\n    k: number;\n    chatHistoryKey: string;\n    llm: BaseLanguageModelInterface;\n    entitiesKey: string;\n    humanPrefix?: string;\n    aiPrefix?: string;\n    constructor(fields: EntityMemoryInput);\n    get memoryKeys(): string[];\n    get memoryVariables(): string[];\n    /**\n     * Method to load memory variables and perform entity extraction.\n     * @param inputs Input values for the method.\n     * @returns Promise resolving to an object containing memory variables.\n     */\n    loadMemoryVariables(inputs: InputValues): Promise<MemoryVariables>;\n    /**\n     * Method to save the context from a conversation to a buffer and perform\n     * entity summarization.\n     * @param inputs Input values for the method.\n     * @param outputs Output values from the method.\n     * @returns Promise resolving to void.\n     */\n    saveContext(inputs: InputValues, outputs: OutputValues): Promise<void>;\n    /**\n     * Method to clear the memory contents.\n     * @returns Promise resolving to void.\n     */\n    clear(): Promise<void>;\n}\n//# sourceMappingURL=entity_memory.d.ts.map"],"mappings":";;;;;;;;;;AAQA;AACSA,UADQQ,iBAAAA,SAA0BD,mBAClCP,CAAAA;EAGoBC,GAAAA,EAHpBD,0BAGoBC;EACGA,WAAAA,CAAAA,EAAAA,MAAAA;EAKdI,QAAAA,CAAAA,EAAAA,MAAAA;EAVyBE,sBAAAA,CAAAA,EAIdN,cAJcM;EAAmB,yBAAA,CAAA,EAK9BN,cAL8B;EA8CzCQ,WAAAA,CAAAA,EAAAA,MAAY,EAAA;EAGhBJ,CAAAA,CAAAA,EAAAA,MAAAA;EAIRL,cAAAA,CAAAA,EAAAA,MAAAA;EAIeQ,WAAAA,CAAAA,EAAAA,MAAAA;EAQQN,WAAAA,CAAAA,EAvDdG,eAuDcH;;;;;;;;;AAnBqD;;;;;;;;;;;;;;;;;;;;;;;;;;;cAAhEO,YAAAA,SAAqBH,cAAAA,YAA0BE;;;eAGnDH;;;;OAIRL;;;;sBAIeQ;;;;;;;;8BAQQN,cAAcQ,QAAQP;;;;;;;;sBAQ9BD,sBAAsBE,eAAeM;;;;;WAKhDA"}