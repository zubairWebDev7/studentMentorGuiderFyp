{"version":3,"file":"ibm.d.ts","names":["CallbackManagerForLLMRun","BaseLLM","BaseLLMParams","WatsonXAI","RequestCallbacks","ReturnOptionProperties","TextGenLengthPenalty","TextGenParameters","TextTokenizeParameters","LLMResult","GenerationChunk","BaseLanguageModelCallOptions","CreateCompletionsParams","Gateway","WatsonxAuth","WatsonxInit","WatsonxLLMBasicOptions","XOR","WatsonxLLMParams","Constants","DecodingMethod","Record","AbortSignal","WatsonxDeploymentLLMParams","WatsonxLLMGatewayKwargs","Omit","WatsonxLLMGatewayParams","WatsonxCallOptionsLLM","Partial","WatsonxInputLLM","WatsonxDeployedInputLLM","WatsonxGatewayInputLLM","WatsonxLLMConstructor","WatsonxLLM","T","CallOptions","Promise","AsyncGenerator"],"sources":["../../src/llms/ibm.d.ts"],"sourcesContent":["import { CallbackManagerForLLMRun } from \"@langchain/core/callbacks/manager\";\nimport { BaseLLM, BaseLLMParams } from \"@langchain/core/language_models/llms\";\nimport { WatsonXAI } from \"@ibm-cloud/watsonx-ai\";\nimport { RequestCallbacks, ReturnOptionProperties, TextGenLengthPenalty, TextGenParameters, TextTokenizeParameters } from \"@ibm-cloud/watsonx-ai/dist/watsonx-ai-ml/vml_v1.js\";\nimport { LLMResult, GenerationChunk } from \"@langchain/core/outputs\";\nimport { BaseLanguageModelCallOptions } from \"@langchain/core/language_models/base\";\nimport { CreateCompletionsParams, Gateway } from \"@ibm-cloud/watsonx-ai/gateway\";\nimport { WatsonxAuth, WatsonxInit, WatsonxLLMBasicOptions, XOR } from \"../types/ibm.js\";\n/**\n * Input to LLM class.\n */\n/** Parameters for basic llm invoke */\nexport interface WatsonxLLMParams {\n    maxNewTokens?: number;\n    maxTokens?: number;\n    decodingMethod?: TextGenParameters.Constants.DecodingMethod | string;\n    lengthPenalty?: TextGenLengthPenalty;\n    minNewTokens?: number;\n    randomSeed?: number;\n    stopSequence?: string[];\n    temperature?: number;\n    timeLimit?: number;\n    topK?: number;\n    topP?: number;\n    repetitionPenalty?: number;\n    truncateInputTokens?: number;\n    returnOptions?: ReturnOptionProperties;\n    includeStopSequence?: boolean;\n    headers?: Record<string, any>;\n    signal?: AbortSignal;\n}\n/** Parameters for basic llm invoke */\nexport interface WatsonxDeploymentLLMParams {\n    idOrName: string;\n}\n/** Gateway parameters */\ninterface WatsonxLLMGatewayKwargs extends Omit<CreateCompletionsParams, keyof WatsonxLLMParams | \"model\" | \"stream\" | \"prompt\" | \"maxTokens\"> {\n}\nexport interface WatsonxLLMGatewayParams extends WatsonxInit, Omit<CreateCompletionsParams, keyof WatsonxLLMGatewayKwargs | \"stream\" | \"prompt\"> {\n    /** Additional parameters usable only in model gateway */\n    modelGatewayKwargs?: WatsonxLLMGatewayKwargs;\n    modelGateway: boolean;\n}\n/** Call interface for second parameter of inbuild methods */\nexport interface WatsonxCallOptionsLLM extends BaseLanguageModelCallOptions, Partial<WatsonxInit> {\n    maxRetries?: number;\n    parameters?: XOR<Partial<WatsonxLLMParams>, Partial<WatsonxLLMGatewayParams>>;\n    watsonxCallbacks?: RequestCallbacks;\n}\n/** Constructor input interfaces for each mode */\nexport interface WatsonxInputLLM extends WatsonxLLMBasicOptions, WatsonxLLMParams {\n    model: string;\n    spaceId?: string;\n    projectId?: string;\n}\nexport interface WatsonxDeployedInputLLM extends WatsonxLLMBasicOptions, WatsonxDeploymentLLMParams {\n}\nexport interface WatsonxGatewayInputLLM extends WatsonxLLMBasicOptions, WatsonxLLMGatewayParams {\n}\nexport type WatsonxLLMConstructor = XOR<XOR<WatsonxInputLLM, WatsonxDeployedInputLLM>, WatsonxGatewayInputLLM> & WatsonxAuth;\n/**\n * Integration with an LLM.\n */\nexport declare class WatsonxLLM<CallOptions extends WatsonxCallOptionsLLM = WatsonxCallOptionsLLM> extends BaseLLM<CallOptions> implements BaseLLMParams {\n    static lc_name(): string;\n    lc_serializable: boolean;\n    streaming: boolean;\n    model: string;\n    maxRetries: number;\n    version: string;\n    serviceUrl: string;\n    maxTokens?: number;\n    maxNewTokens?: number;\n    spaceId?: string;\n    projectId?: string;\n    idOrName?: string;\n    decodingMethod?: WatsonXAI.TextGenParameters.Constants.DecodingMethod | string;\n    lengthPenalty?: TextGenLengthPenalty;\n    minNewTokens?: number;\n    randomSeed?: number;\n    stopSequence?: string[];\n    temperature?: number;\n    timeLimit?: number;\n    topK?: number;\n    topP?: number;\n    repetitionPenalty?: number;\n    truncateInputTokens?: number;\n    returnOptions?: ReturnOptionProperties;\n    includeStopSequence?: boolean;\n    maxConcurrency?: number;\n    watsonxCallbacks?: RequestCallbacks;\n    modelGateway: boolean;\n    modelGatewayKwargs: WatsonxLLMGatewayKwargs;\n    protected service?: WatsonXAI;\n    protected gateway?: Gateway;\n    private checkValidProperties;\n    constructor(fields: WatsonxLLMConstructor);\n    get lc_secrets(): {\n        [key: string]: string;\n    };\n    get lc_aliases(): {\n        [key: string]: string;\n    };\n    invocationParams(options: this[\"ParsedCallOptions\"]): {\n        stop: string[] | undefined;\n        temperature: number | undefined;\n        topP: number | undefined;\n        maxTokens: number | undefined;\n        stop_sequences?: undefined;\n        top_p?: undefined;\n        max_new_tokens?: undefined;\n        decoding_method?: undefined;\n        length_penalty?: undefined;\n        min_new_tokens?: undefined;\n        random_seed?: undefined;\n        time_limit?: undefined;\n        top_k?: undefined;\n        repetition_penalty?: undefined;\n        truncate_input_tokens?: undefined;\n        return_options?: undefined;\n        include_stop_sequence?: undefined;\n    } | {\n        stop_sequences: string[] | undefined;\n        temperature: number | undefined;\n        top_p: number | undefined;\n        max_new_tokens: number | undefined;\n        decoding_method: string | undefined;\n        length_penalty: TextGenLengthPenalty | undefined;\n        min_new_tokens: number | undefined;\n        random_seed: number | undefined;\n        time_limit: number | undefined;\n        top_k: number | undefined;\n        repetition_penalty: number | undefined;\n        truncate_input_tokens: number | undefined;\n        return_options: ReturnOptionProperties | undefined;\n        include_stop_sequence: boolean | undefined;\n    } | undefined;\n    invocationCallbacks(options: this[\"ParsedCallOptions\"]): RequestCallbacks<any> | undefined;\n    scopeId(): {\n        spaceId?: undefined;\n        projectId: string;\n        modelId: string;\n        idOrName?: undefined;\n    } | {\n        projectId?: undefined;\n        spaceId: string;\n        modelId: string;\n        idOrName?: undefined;\n    } | {\n        projectId?: undefined;\n        spaceId?: undefined;\n        idOrName: string;\n        modelId: string;\n    } | {\n        projectId?: undefined;\n        spaceId?: undefined;\n        idOrName?: undefined;\n        modelId: string;\n    };\n    listModels(): Promise<string[] | undefined>;\n    private generateSingleMessage;\n    completionWithRetry<T>(callback: () => T, options?: this[\"ParsedCallOptions\"]): Promise<T>;\n    _generate(prompts: string[], options: this[\"ParsedCallOptions\"], runManager?: CallbackManagerForLLMRun): Promise<LLMResult>;\n    getNumTokens(content: string, options?: TextTokenizeParameters): Promise<number>;\n    _streamResponseChunks(prompt: string, options: this[\"ParsedCallOptions\"], runManager?: CallbackManagerForLLMRun): AsyncGenerator<GenerationChunk>;\n    _llmType(): string;\n}\nexport {};\n//# sourceMappingURL=ibm.d.ts.map"],"mappings":"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"}