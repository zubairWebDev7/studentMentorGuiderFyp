{"version":3,"file":"convex.d.cts","names":["FieldPaths","FunctionReference","GenericActionCtx","GenericDataModel","NamedTableInfo","TableNamesInDataModel","VectorIndexNames","Value","BaseStore","ConvexKVStoreConfig","DataModel","TableName","IndexName","KeyFieldName","ValueFieldName","UpsertMutation","LookupQuery","DeleteManyMutation","ConvexKVStore","T","Promise","AsyncGenerator"],"sources":["../../src/storage/convex.d.ts"],"sourcesContent":["import { FieldPaths, FunctionReference, GenericActionCtx, GenericDataModel, NamedTableInfo, TableNamesInDataModel, VectorIndexNames } from \"convex/server\";\nimport { Value } from \"convex/values\";\nimport { BaseStore } from \"@langchain/core/stores\";\n/**\n * Type that defines the config required to initialize the\n * ConvexKVStore class. It includes the table name,\n * index name, field name.\n */\nexport type ConvexKVStoreConfig<DataModel extends GenericDataModel, TableName extends TableNamesInDataModel<DataModel>, IndexName extends VectorIndexNames<NamedTableInfo<DataModel, TableName>>, KeyFieldName extends FieldPaths<NamedTableInfo<DataModel, TableName>>, ValueFieldName extends FieldPaths<NamedTableInfo<DataModel, TableName>>, UpsertMutation extends FunctionReference<\"mutation\", \"internal\", {\n    table: string;\n    document: object;\n}>, LookupQuery extends FunctionReference<\"query\", \"internal\", {\n    table: string;\n    index: string;\n    keyField: string;\n    key: string;\n}, object[]>, DeleteManyMutation extends FunctionReference<\"mutation\", \"internal\", {\n    table: string;\n    index: string;\n    keyField: string;\n    key: string;\n}>> = {\n    readonly ctx: GenericActionCtx<DataModel>;\n    /**\n     * Defaults to \"cache\"\n     */\n    readonly table?: TableName;\n    /**\n     * Defaults to \"byKey\"\n     */\n    readonly index?: IndexName;\n    /**\n     * Defaults to \"key\"\n     */\n    readonly keyField?: KeyFieldName;\n    /**\n     * Defaults to \"value\"\n     */\n    readonly valueField?: ValueFieldName;\n    /**\n     * Defaults to `internal.langchain.db.upsert`\n     */\n    readonly upsert?: UpsertMutation;\n    /**\n     * Defaults to `internal.langchain.db.lookup`\n     */\n    readonly lookup?: LookupQuery;\n    /**\n     * Defaults to `internal.langchain.db.deleteMany`\n     */\n    readonly deleteMany?: DeleteManyMutation;\n};\n/**\n * Class that extends the BaseStore class to interact with a Convex\n * database. It provides methods for getting, setting, and deleting key value pairs,\n * as well as yielding keys from the database.\n */\nexport declare class ConvexKVStore<T extends Value, DataModel extends GenericDataModel, TableName extends TableNamesInDataModel<DataModel>, IndexName extends VectorIndexNames<NamedTableInfo<DataModel, TableName>>, KeyFieldName extends FieldPaths<NamedTableInfo<DataModel, TableName>>, ValueFieldName extends FieldPaths<NamedTableInfo<DataModel, TableName>>, UpsertMutation extends FunctionReference<\"mutation\", \"internal\", {\n    table: string;\n    document: object;\n}>, LookupQuery extends FunctionReference<\"query\", \"internal\", {\n    table: string;\n    index: string;\n    keyField: string;\n    key: string;\n}, object[]>, DeleteManyMutation extends FunctionReference<\"mutation\", \"internal\", {\n    table: string;\n    index: string;\n    keyField: string;\n    key: string;\n}>> extends BaseStore<string, T> {\n    lc_namespace: string[];\n    private readonly ctx;\n    private readonly table;\n    private readonly index;\n    private readonly keyField;\n    private readonly valueField;\n    private readonly upsert;\n    private readonly lookup;\n    private readonly deleteMany;\n    constructor(config: ConvexKVStoreConfig<DataModel, TableName, IndexName, KeyFieldName, ValueFieldName, UpsertMutation, LookupQuery, DeleteManyMutation>);\n    /**\n     * Gets multiple keys from the Convex database.\n     * @param keys Array of keys to be retrieved.\n     * @returns An array of retrieved values.\n     */\n    mget(keys: string[]): Promise<(T | undefined)[]>;\n    /**\n     * Sets multiple keys in the Convex database.\n     * @param keyValuePairs Array of key-value pairs to be set.\n     * @returns Promise that resolves when all keys have been set.\n     */\n    mset(keyValuePairs: [string, T][]): Promise<void>;\n    /**\n     * Deletes multiple keys from the Convex database.\n     * @param keys Array of keys to be deleted.\n     * @returns Promise that resolves when all keys have been deleted.\n     */\n    mdelete(keys: string[]): Promise<void>;\n    /**\n     * Yields keys from the Convex database.\n     * @param prefix Optional prefix to filter the keys.\n     * @returns An AsyncGenerator that yields keys from the Convex database.\n     */\n    yieldKeys(_prefix?: string): AsyncGenerator<string>;\n}\n//# sourceMappingURL=convex.d.ts.map"],"mappings":"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"}