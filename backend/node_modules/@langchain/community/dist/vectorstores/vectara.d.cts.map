{"version":3,"file":"vectara.d.cts","names":["Document","EmbeddingsInterface","VectorStore","BaseCallbackConfig","Callbacks","VectaraLibArgs","VectaraCallHeader","VectaraFile","Blob","VectaraContextConfig","MMRConfig","VectaraSummary","VectaraFilter","DEFAULT_FILTER","SummaryResult","VectaraRetrieverInput","VectaraStore","Record","Promise"],"sources":["../../src/vectorstores/vectara.d.ts"],"sourcesContent":["import { Document } from \"@langchain/core/documents\";\nimport type { EmbeddingsInterface } from \"@langchain/core/embeddings\";\nimport { VectorStore } from \"@langchain/core/vectorstores\";\nimport { BaseCallbackConfig, Callbacks } from \"@langchain/core/callbacks/manager\";\n/**\n * Interface for the arguments required to initialize a VectaraStore\n * instance.\n */\nexport interface VectaraLibArgs {\n    customerId: number;\n    corpusId: number | number[];\n    apiKey: string;\n    verbose?: boolean;\n    source?: string;\n}\n/**\n * Interface for the headers required for Vectara API calls.\n */\ninterface VectaraCallHeader {\n    headers: {\n        \"x-api-key\": string;\n        \"Content-Type\": string;\n        \"customer-id\": string;\n        \"X-Source\": string;\n    };\n}\n/**\n * Interface for the file objects to be uploaded to Vectara.\n */\nexport interface VectaraFile {\n    blob: Blob;\n    fileName: string;\n}\n/**\n * Interface for the context configuration used in Vectara API calls.\n */\nexport interface VectaraContextConfig {\n    charsBefore?: number;\n    charsAfter?: number;\n    sentencesBefore?: number;\n    sentencesAfter?: number;\n    startTag?: string;\n    endTag?: string;\n}\nexport interface MMRConfig {\n    enabled?: boolean;\n    mmrTopK?: number;\n    diversityBias?: number;\n}\nexport interface VectaraSummary {\n    enabled: boolean;\n    summarizerPromptName?: string;\n    maxSummarizedResults: number;\n    responseLang: string;\n}\nexport interface VectaraFilter extends BaseCallbackConfig {\n    start?: number;\n    filter?: string;\n    lambda?: number;\n    contextConfig?: VectaraContextConfig;\n    mmrConfig?: MMRConfig;\n}\nexport declare const DEFAULT_FILTER: VectaraFilter;\ninterface SummaryResult {\n    documents: Document[];\n    scores: number[];\n    summary: string;\n}\nexport interface VectaraRetrieverInput {\n    vectara: VectaraStore;\n    topK: number;\n    summaryConfig?: VectaraSummary;\n    callbacks?: Callbacks;\n    tags?: string[];\n    metadata?: Record<string, unknown>;\n    verbose?: boolean;\n}\n/**\n * Class for interacting with the Vectara API. Extends the VectorStore\n * class.\n */\nexport declare class VectaraStore extends VectorStore {\n    get lc_secrets(): {\n        [key: string]: string;\n    };\n    get lc_aliases(): {\n        [key: string]: string;\n    };\n    FilterType: VectaraFilter;\n    private apiEndpoint;\n    private apiKey;\n    private corpusId;\n    private customerId;\n    private verbose;\n    private source;\n    private vectaraApiTimeoutSeconds;\n    _vectorstoreType(): string;\n    constructor(args: VectaraLibArgs);\n    /**\n     * Returns a header for Vectara API calls.\n     * @returns A Promise that resolves to a VectaraCallHeader object.\n     */\n    getJsonHeader(): Promise<VectaraCallHeader>;\n    /**\n     * Throws an error, as this method is not implemented. Use addDocuments\n     * instead.\n     * @param _vectors Not used.\n     * @param _documents Not used.\n     * @returns Does not return a value.\n     */\n    addVectors(_vectors: number[][], _documents: Document[]): Promise<void>;\n    /**\n     * Method to delete data from the Vectara corpus.\n     * @param params an array of document IDs to be deleted\n     * @returns Promise that resolves when the deletion is complete.\n     */\n    deleteDocuments(ids: string[]): Promise<void>;\n    /**\n     * Adds documents to the Vectara store.\n     * @param documents An array of Document objects to add to the Vectara store.\n     * @returns A Promise that resolves to an array of document IDs indexed in Vectara.\n     */\n    addDocuments(documents: Document[]): Promise<string[]>;\n    /**\n     * Vectara provides a way to add documents directly via their API. This API handles\n     * pre-processing and chunking internally in an optimal manner. This method is a wrapper\n     * to utilize that API within LangChain.\n     *\n     * @param files An array of VectaraFile objects representing the files and their respective file names to be uploaded to Vectara.\n     * @param metadata Optional. An array of metadata objects corresponding to each file in the `filePaths` array.\n     * @returns A Promise that resolves to the number of successfully uploaded files.\n     */\n    addFiles(files: VectaraFile[], metadatas?: Record<string, unknown> | undefined): Promise<string[]>;\n    /**\n     * Performs a Vectara API call based on the arguments provided.\n     * @param query The query string for the similarity search.\n     * @param k Optional. The number of results to return. Default is 10.\n     * @param filter Optional. A VectaraFilter object to refine the search results.\n     * @returns A Promise that resolves to an array of tuples, each containing a Document and its score.\n     */\n    vectaraQuery(query: string, k: number, vectaraFilterObject: VectaraFilter, summary?: VectaraSummary): Promise<SummaryResult>;\n    /**\n     * Performs a similarity search and returns documents along with their\n     * scores.\n     * @param query The query string for the similarity search.\n     * @param k Optional. The number of results to return. Default is 10.\n     * @param filter Optional. A VectaraFilter object to refine the search results.\n     * @returns A Promise that resolves to an array of tuples, each containing a Document and its score.\n     */\n    similaritySearchWithScore(query: string, k?: number, filter?: VectaraFilter): Promise<[Document, number][]>;\n    /**\n     * Performs a similarity search and returns documents.\n     * @param query The query string for the similarity search.\n     * @param k Optional. The number of results to return. Default is 10.\n     * @param filter Optional. A VectaraFilter object to refine the search results.\n     * @returns A Promise that resolves to an array of Document objects.\n     */\n    similaritySearch(query: string, k?: number, filter?: VectaraFilter): Promise<Document[]>;\n    /**\n     * Throws an error, as this method is not implemented. Use\n     * similaritySearch or similaritySearchWithScore instead.\n     * @param _query Not used.\n     * @param _k Not used.\n     * @param _filter Not used.\n     * @returns Does not return a value.\n     */\n    similaritySearchVectorWithScore(_query: number[], _k: number, _filter?: VectaraFilter | undefined): Promise<[Document, number][]>;\n    /**\n     * Creates a VectaraStore instance from texts.\n     * @param texts An array of text strings.\n     * @param metadatas Metadata for the texts. Can be a single object or an array of objects.\n     * @param _embeddings Not used.\n     * @param args A VectaraLibArgs object for initializing the VectaraStore instance.\n     * @returns A Promise that resolves to a VectaraStore instance.\n     */\n    static fromTexts(texts: string[], metadatas: object | object[], _embeddings: EmbeddingsInterface, args: VectaraLibArgs): Promise<VectaraStore>;\n    /**\n     * Creates a VectaraStore instance from documents.\n     * @param docs An array of Document objects.\n     * @param _embeddings Not used.\n     * @param args A VectaraLibArgs object for initializing the VectaraStore instance.\n     * @returns A Promise that resolves to a VectaraStore instance.\n     */\n    static fromDocuments(docs: Document[], _embeddings: EmbeddingsInterface, args: VectaraLibArgs): Promise<VectaraStore>;\n}\nexport {};\n//# sourceMappingURL=vectara.d.ts.map"],"mappings":";;;;;;;;;AAQA;AAMC;AAegBO,UArBAF,cAAAA,CAsBPG;EAMOC,UAAAA,EAAAA,MAAAA;EAQAC,QAAAA,EAAAA,MAAS,GAAA,MAAA,EAAA;EAKTC,MAAAA,EAAAA,MAAAA;EAMAC,OAAAA,CAAAA,EAAAA,OAAa;EAIVH,MAAAA,CAAAA,EAAAA,MAAAA;;;AAJqC;AAOzD;AAAmD,UA5CzCH,iBAAAA,CA6Ca;EAKNS,OAAAA,EAAAA;IACJC,WAAAA,EAAAA,MAAAA;IAEOL,cAAAA,EAAAA,MAAAA;IACJP,aAAAA,EAAAA,MAAAA;IAEDa,UAAAA,EAAAA,MAAAA;EAAM,CAAA;AAOrB;;;;AAqBqBC,UAzEJX,WAAAA,CAyEIW;EAQ4BlB,IAAAA,EAhFvCQ,IAgFuCR;EAAakB,QAAAA,EAAAA,MAAAA;;;;;AAsBfD,UAhG9BR,oBAAAA,CAgG8BQ;EAAsCC,WAAAA,CAAAA,EAAAA,MAAAA;EAQrBN,UAAAA,CAAAA,EAAAA,MAAAA;EAAyBD,eAAAA,CAAAA,EAAAA,MAAAA;EAAyBG,cAAAA,CAAAA,EAAAA,MAAAA;EAARI,QAAAA,CAAAA,EAAAA,MAAAA;EASxCN,MAAAA,CAAAA,EAAAA,MAAAA;;AAAgBM,UAzGjER,SAAAA,CAyGiEQ;EAQzBN,OAAAA,CAAAA,EAAAA,OAAAA;EAAwBZ,OAAAA,CAAAA,EAAAA,MAAAA;EAARkB,aAAAA,CAAAA,EAAAA,MAAAA;;AASwClB,UArHhGW,cAAAA,CAqHgGX;EAATkB,OAAAA,EAAAA,OAAAA;EASvBjB,oBAAAA,CAAAA,EAAAA,MAAAA;EAA2BI,oBAAAA,EAAAA,MAAAA;EAAyBW,YAAAA,EAAAA,MAAAA;;AAQtGhB,UAhIdY,aAAAA,SAAsBT,kBAgIRH,CAAAA;EAAyBC,KAAAA,CAAAA,EAAAA,MAAAA;EAA2BI,MAAAA,CAAAA,EAAAA,MAAAA;EAAyBW,MAAAA,CAAAA,EAAAA,MAAAA;EAARE,aAAAA,CAAAA,EA5HhFT,oBA4HgFS;EAtG1DhB,SAAAA,CAAAA,EArB1BQ,SAqB0BR;AAAW;cAnBhCW,gBAAgBD;UAC3BE,aAAAA;aACKd;;;;UAIEe,qBAAAA;WACJC;;kBAEOL;cACJP;;aAEDa;;;;;;;cAOMD,YAAAA,SAAqBd,WAAAA;;;;;;;cAO1BU;;;;;;;;;oBASMP;;;;;mBAKDa,QAAQZ;;;;;;;;+CAQoBN,aAAakB;;;;;;kCAM1BA;;;;;;0BAMRlB,aAAakB;;;;;;;;;;kBAUrBX,2BAA2BU,sCAAsCC;;;;;;;;8DAQrBN,yBAAyBD,iBAAiBO,QAAQJ;;;;;;;;;gEAShDF,gBAAgBM,SAASlB;;;;;;;;uDAQlCY,gBAAgBM,QAAQlB;;;;;;;;;0EASLY,4BAA4BM,SAASlB;;;;;;;;;+EAShCC,2BAA2BI,iBAAiBa,QAAQF;;;;;;;;6BAQtGhB,yBAAyBC,2BAA2BI,iBAAiBa,QAAQF"}