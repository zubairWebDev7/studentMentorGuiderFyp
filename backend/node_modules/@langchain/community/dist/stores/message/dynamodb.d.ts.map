{"version":3,"file":"dynamodb.d.ts","names":["DynamoDBClientConfig","AttributeValue","BaseListChatMessageHistory","BaseMessage","DynamoDBChatMessageHistoryFields","Record","DynamoDBChatMessageHistory","tableName","sessionId","partitionKey","sortKey","messageAttributeName","config","key","Promise"],"sources":["../../../src/stores/message/dynamodb.d.ts"],"sourcesContent":["import { DynamoDBClientConfig, AttributeValue } from \"@aws-sdk/client-dynamodb\";\nimport { BaseListChatMessageHistory } from \"@langchain/core/chat_history\";\nimport { BaseMessage } from \"@langchain/core/messages\";\n/**\n * Interface defining the fields required to create an instance of\n * `DynamoDBChatMessageHistory`. It includes the DynamoDB table name,\n * session ID, partition key, sort key, message attribute name, and\n * DynamoDB client configuration.\n */\nexport interface DynamoDBChatMessageHistoryFields {\n    tableName: string;\n    sessionId: string;\n    partitionKey?: string;\n    sortKey?: string;\n    messageAttributeName?: string;\n    config?: DynamoDBClientConfig;\n    key?: Record<string, AttributeValue>;\n}\n/**\n * Class providing methods to interact with a DynamoDB table to store and\n * retrieve chat messages. It extends the `BaseListChatMessageHistory`\n * class.\n */\nexport declare class DynamoDBChatMessageHistory extends BaseListChatMessageHistory {\n    lc_namespace: string[];\n    get lc_secrets(): {\n        [key: string]: string;\n    } | undefined;\n    private tableName;\n    private sessionId;\n    private client;\n    private partitionKey;\n    private sortKey?;\n    private messageAttributeName;\n    private dynamoKey;\n    /**\n     * Transforms a `StoredMessage` into a `DynamoDBSerializedChatMessage`.\n     * The `DynamoDBSerializedChatMessage` format is suitable for storing in DynamoDB.\n     *\n     * @param message - The `StoredMessage` to be transformed.\n     * @returns The transformed `DynamoDBSerializedChatMessage`.\n     */\n    private createDynamoDBSerializedChatMessage;\n    constructor({ tableName, sessionId, partitionKey, sortKey, messageAttributeName, config, key }: DynamoDBChatMessageHistoryFields);\n    /**\n     * Retrieves all messages from the DynamoDB table and returns them as an\n     * array of `BaseMessage` instances.\n     * @returns Array of stored messages\n     */\n    getMessages(): Promise<BaseMessage[]>;\n    /**\n     * Adds a new message to the DynamoDB table.\n     * @param message The message to be added to the DynamoDB table.\n     */\n    addMessage(message: BaseMessage): Promise<void>;\n    /**\n     * Adds new messages to the DynamoDB table.\n     * @param messages The messages to be added to the DynamoDB table.\n     */\n    addMessages(messages: BaseMessage[]): Promise<void>;\n    /**\n     * Deletes all messages from the DynamoDB table.\n     */\n    clear(): Promise<void>;\n}\n//# sourceMappingURL=dynamodb.d.ts.map"],"mappings":";;;;;;;;AASA;;;;AAOgB,UAPCI,gCAAAA,CAOD;EAOKE,SAAAA,EAAAA,MAAAA;EAoBHC,SAAAA,EAAAA,MAAAA;EAAWC,YAAAA,CAAAA,EAAAA,MAAAA;EAAWC,OAAAA,CAAAA,EAAAA,MAAAA;EAAcC,oBAAAA,CAAAA,EAAAA,MAAAA;EAASC,MAAAA,CAAAA,EA5BlDX,oBA4BkDW;EAAsBC,GAAAA,CAAAA,EA3B3EP,MA2B2EO,CAAAA,MAAAA,EA3B5DX,cA2B4DW,CAAAA;;;;;;;AAgB3DT,cApCLG,0BAAAA,SAAmCJ,0BAAAA,CAoC9BC;EAAgBW,YAAAA,EAAAA,MAAAA,EAAAA;EAI7BA,IAAAA,UAAAA,CAAAA,CAAAA,EAAAA;IAxC2CZ,CAAAA,GAAAA,EAAAA,MAAAA,CAAAA,EAAAA,MAAAA;EAA0B,CAAA,GAAA,SAAA;;;;;;;;;;;;;;;;;;;;;;;;KAoBkBE;;;;;;iBAMjFU,QAAQX;;;;;sBAKHA,cAAcW;;;;;wBAKZX,gBAAgBW;;;;WAI7BA"}